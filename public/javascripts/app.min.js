"use strict";$(function(){var t=[];t.push($("#btn-skills-more")),t.push($("#btn-skills-less"));var e=function(){t.forEach(function(t){t.toggleClass("hidden")})};t.forEach(function(t){t.on("click",e)})}),$(function(){$('a[href*="#"]:not([href="#"])').on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if($(".active").removeClass("active"),t.parent().addClass("active"),t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top-20},600),!1}})}),$(function(){var t,e,n;$("#resume-modal").on("show.bs.modal",function(a){e=$("#modal-content"),n=$("#modal-body");var i=$(a.relatedTarget).data("panel-type");i!==t&&(e.addClass("panel-"+i),e.removeClass("panel-"+t),t=i);var o=$(a.relatedTarget).data("modal-data");o.title?e.find("#title").text(o.title).show():e.find("#title").hide(),o.company?n.find("#company").text(o.company.name).show():n.find("#company").hide(),o.description?n.find("#description").text(o.description).show():n.find("#description").hide(),o.start?n.find("#start").text(moment(o.start).format("MMMM YYYY")).show():n.find("#start").hide(),o.end?n.find("#end").text(moment(o.end).format("MMMM YYYY")).show():n.find("#end").hide()})}),$("body").on("hidden.bs.modal",".modal",function(){$(this).removeData("bs.modal")}),$(function(){var t,e,n,a;$("#profile .read-more").on("click",function(){return a=0,t=$(this),e=t.parent(),n=e.find("p"),n.each(function(){a+=$(this).outerHeight()}),e.css({height:e.height(),"max-height":9999}).animate({height:a},400),t.css({display:"none"}),!1})}),$(function(){function t(t,n){var a,i={_id:n,section:t},o="form[data-id='"+n+"'][data-section='"+t+"'] [data-type='resume-form-field']";return $(o).each(function(){a=$(this)[0];var t=a.dataset.prop,n=a.innerHTML||a.checked||a.value;e(i,t,n)}),JSON.stringify(i)}function e(t,e,n){for(var a=t,i=e.split("."),o=i.length,s=0;s<o-1;s++){var r=i[s];a[r]||(a[r]={}),a=a[r]}return a[i[o-1]]=n,a}$(".btn-admin-save").on("click",function(e){e.preventDefault();var n=$(this).closest("form"),a=n.data("section"),i=n.data("id"),o=t(a,i);confirm("Are you sure you want to delete this?")&&$.ajax({method:"PUT",url:"/admin",data:o,contentType:"application/json"}).done(function(t,e,n){toastr.success(t)}).fail(function(t,e,n){toastr.error(t.responseText)})})}),$(function(){$(".btn-admin-delete").on("click",function(t){t.preventDefault();var e=$(this),n=e.closest("form"),a={};a.section=n.data("section"),a._id=n.data("id"),confirm("Are you sure you want to delete this?")&&$.ajax({method:"DELETE",url:"/admin",data:JSON.stringify(a),contentType:"application/json"}).done(function(t,n,a){toastr.success(t),e.closest(".admin-element").hide("normal",function(){$(this).remove()})}).fail(function(t,e,n){toastr.error(t.responseText)})})}),$(function(){$("#admin-tabs a").click(function(t){t.preventDefault(),$(this).tab("show")})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImJ0bkFyciIsInB1c2giLCJza2lsbHNDbGlja0hhbmRsZXIiLCJmb3JFYWNoIiwiYnRuIiwidG9nZ2xlQ2xhc3MiLCJvbiIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwidGhpcyIsImhvc3RuYW1lIiwidGFyZ2V0IiwiaGFzaCIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiYWRkQ2xhc3MiLCJsZW5ndGgiLCJzbGljZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJwYW5lbFR5cGUiLCJtb2RhbENvbnRlbnQiLCJtb2RhbEJvZHkiLCJlIiwidHlwZSIsInJlbGF0ZWRUYXJnZXQiLCJkYXRhIiwiZXhwIiwidGl0bGUiLCJmaW5kIiwidGV4dCIsInNob3ciLCJoaWRlIiwiY29tcGFueSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInN0YXJ0IiwibW9tZW50IiwiZm9ybWF0IiwiZW5kIiwicmVtb3ZlRGF0YSIsIiRlbCIsIiRwIiwiJHBzIiwidG90YWxIZWlnaHQiLCJlYWNoIiwib3V0ZXJIZWlnaHQiLCJjc3MiLCJoZWlnaHQiLCJtYXgtaGVpZ2h0IiwiZGlzcGxheSIsImdldERhdGEiLCJzZWN0aW9uIiwiaWQiLCJpdGVtIiwiX2lkIiwicXVlcnkiLCJwYXRoIiwiZGF0YXNldCIsInByb3AiLCJ2YWwiLCJpbm5lckhUTUwiLCJjaGVja2VkIiwidmFsdWUiLCJzZXQiLCJKU09OIiwic3RyaW5naWZ5Iiwib2JqIiwic2NoZW1hIiwiYXJyIiwic3BsaXQiLCJsZW4iLCJpIiwiZWxlbSIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsImNsb3Nlc3QiLCJjb25maXJtIiwiYWpheCIsIm1ldGhvZCIsInVybCIsImNvbnRlbnRUeXBlIiwiZG9uZSIsInRleHRTdGF0dXMiLCJqcVhIUiIsInRvYXN0ciIsInN1Y2Nlc3MiLCJmYWlsIiwiZXJyb3JUaHJvd24iLCJlcnJvciIsInJlc3BvbnNlVGV4dCIsInJlbW92ZSIsImNsaWNrIiwidGFiIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUdBQSxHQUFBLFdBQ0EsR0FBQUMsS0FDQUEsR0FBQUMsS0FBQUYsRUFBQSxxQkFDQUMsRUFBQUMsS0FBQUYsRUFBQSxvQkFDQSxJQUFBRyxHQUFBLFdBQ0FGLEVBQUFHLFFBQUEsU0FBQUMsR0FBQUEsRUFBQUMsWUFBQSxZQUVBTCxHQUFBRyxRQUFBLFNBQUFDLEdBQUFBLEVBQUFFLEdBQUEsUUFBQUosT0FNQUgsRUFBQSxXQUNBQSxFQUFBLGdDQUFBTyxHQUFBLFFBQUEsV0FDQSxHQUFBQyxTQUFBQyxTQUFBQyxRQUFBLE1BQUEsS0FBQUMsS0FBQUYsU0FBQUMsUUFBQSxNQUFBLEtBQUFGLFNBQUFJLFVBQUFELEtBQUFDLFNBQUEsQ0FDQSxHQUFBQyxHQUFBYixFQUFBVyxLQUFBRyxLQU9BLElBSkFkLEVBQUEsV0FBQWUsWUFBQSxVQUNBRixFQUFBRyxTQUFBQyxTQUFBLFVBRUFKLEVBQUFBLEVBQUFLLE9BQUFMLEVBQUFiLEVBQUEsU0FBQVcsS0FBQUcsS0FBQUssTUFBQSxHQUFBLEtBQ0FOLEVBQUFLLE9BSUEsTUFIQWxCLEdBQUEsY0FBQW9CLFNBQ0FDLFVBQUFSLEVBQUFTLFNBQUFDLElBQUEsSUFDQSxNQUNBLE9BU0F2QixFQUFBLFdBRUEsR0FBQXdCLEdBQ0FDLEVBQ0FDLENBR0ExQixHQUFBLGlCQUFBTyxHQUFBLGdCQUFBLFNBQUFvQixHQUVBRixFQUFBekIsRUFBQSxrQkFDQTBCLEVBQUExQixFQUFBLGNBRUEsSUFBQTRCLEdBQUE1QixFQUFBMkIsRUFBQUUsZUFBQUMsS0FBQSxhQUNBRixLQUFBSixJQUNBQyxFQUFBUixTQUFBLFNBQUFXLEdBQ0FILEVBQUFWLFlBQUEsU0FBQVMsR0FDQUEsRUFBQUksRUFJQSxJQUFBRyxHQUFBL0IsRUFBQTJCLEVBQUFFLGVBQUFDLEtBQUEsYUFFQUMsR0FBQUMsTUFBQVAsRUFBQVEsS0FBQSxVQUFBQyxLQUFBSCxFQUFBQyxPQUFBRyxPQUNBVixFQUFBUSxLQUFBLFVBQUFHLE9BS0FMLEVBQUFNLFFBQUFYLEVBQUFPLEtBQUEsWUFBQUMsS0FBQUgsRUFBQU0sUUFBQUMsTUFBQUgsT0FDQVQsRUFBQU8sS0FBQSxZQUFBRyxPQUtBTCxFQUFBUSxZQUFBYixFQUFBTyxLQUFBLGdCQUFBQyxLQUFBSCxFQUFBUSxhQUFBSixPQUNBVCxFQUFBTyxLQUFBLGdCQUFBRyxPQUVBTCxFQUFBUyxNQUFBZCxFQUFBTyxLQUFBLFVBQUFDLEtBQUFPLE9BQUFWLEVBQUFTLE9BQUFFLE9BQUEsY0FBQVAsT0FDQVQsRUFBQU8sS0FBQSxVQUFBRyxPQUVBTCxFQUFBWSxJQUFBakIsRUFBQU8sS0FBQSxRQUFBQyxLQUFBTyxPQUFBVixFQUFBWSxLQUFBRCxPQUFBLGNBQUFQLE9BQ0FULEVBQUFPLEtBQUEsUUFBQUcsV0FPQXBDLEVBQUEsUUFBQU8sR0FBQSxrQkFBQSxTQUFBLFdBQ0FQLEVBQUFXLE1BQUFpQyxXQUFBLGNBTUE1QyxFQUFBLFdBRUEsR0FBQTZDLEdBQUFDLEVBQUFDLEVBQUFDLENBRUFoRCxHQUFBLHVCQUFBTyxHQUFBLFFBQUEsV0F5QkEsTUF4QkF5QyxHQUFBLEVBRUFILEVBQUE3QyxFQUFBVyxNQUNBbUMsRUFBQUQsRUFBQTdCLFNBQ0ErQixFQUFBRCxFQUFBYixLQUFBLEtBR0FjLEVBQUFFLEtBQUEsV0FDQUQsR0FBQWhELEVBQUFXLE1BQUF1QyxnQkFHQUosRUFBQUssS0FFQUMsT0FBQU4sRUFBQU0sU0FDQUMsYUFBQSxPQUVBakMsU0FDQWdDLE9BQUFKLEdBQ0EsS0FHQUgsRUFBQU0sS0FBQUcsUUFBQSxVQUdBLE1BUUF0RCxFQUFBLFdBNkJBLFFBQUF1RCxHQUFBQyxFQUFBQyxHQUNBLEdBRUFDLEdBRkE1QixHQUFBNkIsSUFBQUYsRUFBQUQsUUFBQUEsR0FDQUksRUFBQSxpQkFBQUgsRUFBQSxvQkFBQUQsRUFBQSxvQ0FVQSxPQVBBeEQsR0FBQTRELEdBQUFYLEtBQUEsV0FDQVMsRUFBQTFELEVBQUFXLE1BQUEsRUFDQSxJQUFBa0QsR0FBQUgsRUFBQUksUUFBQUMsS0FDQUMsRUFBQU4sRUFBQU8sV0FBQVAsRUFBQVEsU0FBQVIsRUFBQVMsS0FDQUMsR0FBQXRDLEVBQUErQixFQUFBRyxLQUdBSyxLQUFBQyxVQUFBeEMsR0FHQSxRQUFBc0MsR0FBQUcsRUFBQVYsRUFBQU0sR0FlQSxJQUFBLEdBZEFLLEdBQUFELEVBQ0FFLEVBQUFaLEVBQUFhLE1BQUEsS0FDQUMsRUFBQUYsRUFBQXZELE9BWUEwRCxFQUFBLEVBQUFBLEVBQUFELEVBQUEsRUFBQUMsSUFBQSxDQUNBLEdBQUFDLEdBQUFKLEVBQUFHLEVBQ0FKLEdBQUFLLEtBQUFMLEVBQUFLLE9BQ0FMLEVBQUFBLEVBQUFLLEdBR0EsTUFEQUwsR0FBQUMsRUFBQUUsRUFBQSxJQUFBUixFQUNBSyxFQWhFQXhFLEVBQUEsbUJBQUFPLEdBQUEsUUFBQSxTQUFBb0IsR0FDQUEsRUFBQW1ELGdCQUdBLElBQUFDLEdBQUEvRSxFQUFBVyxNQUFBcUUsUUFBQSxRQUdBeEIsRUFBQXVCLEVBQUFqRCxLQUFBLFdBQ0EyQixFQUFBc0IsRUFBQWpELEtBQUEsTUFHQUEsRUFBQXlCLEVBQUFDLEVBQUFDLEVBR0F3QixTQUFBLDBDQUNBakYsRUFBQWtGLE1BQ0FDLE9BQUEsTUFDQUMsSUFBQSxTQUNBdEQsS0FBQUEsRUFDQXVELFlBQUEscUJBQ0FDLEtBQUEsU0FBQXhELEVBQUF5RCxFQUFBQyxHQUNBQyxPQUFBQyxRQUFBNUQsS0FDQTZELEtBQUEsU0FBQUgsRUFBQUQsRUFBQUssR0FDQUgsT0FBQUksTUFBQUwsRUFBQU0sb0JBK0NBOUYsRUFBQSxXQUVBQSxFQUFBLHFCQUFBTyxHQUFBLFFBQUEsU0FBQW9CLEdBQ0FBLEVBQUFtRCxnQkFDQSxJQUFBekUsR0FBQUwsRUFBQVcsTUFFQW9FLEVBQUExRSxFQUFBMkUsUUFBQSxRQUdBbEQsSUFDQUEsR0FBQTBCLFFBQUF1QixFQUFBakQsS0FBQSxXQUNBQSxFQUFBNkIsSUFBQW9CLEVBQUFqRCxLQUFBLE1BR0FtRCxRQUFBLDBDQUNBakYsRUFBQWtGLE1BQ0FDLE9BQUEsU0FDQUMsSUFBQSxTQUNBdEQsS0FBQXVDLEtBQUFDLFVBQUF4QyxHQUNBdUQsWUFBQSxxQkFDQUMsS0FBQSxTQUFBeEQsRUFBQXlELEVBQUFDLEdBQ0FDLE9BQUFDLFFBQUE1RCxHQUVBekIsRUFBQTJFLFFBQUEsa0JBQUE1QyxLQUFBLFNBQUEsV0FDQXBDLEVBQUFXLE1BQUFvRixhQUVBSixLQUFBLFNBQUFILEVBQUFELEVBQUFLLEdBQ0FILE9BQUFJLE1BQUFMLEVBQUFNLG9CQVNBOUYsRUFBQSxXQUVBQSxFQUFBLGlCQUFBZ0csTUFBQSxTQUFBckUsR0FDQUEsRUFBQW1ELGlCQUNBOUUsRUFBQVcsTUFBQXNGLElBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vLyBza2lsbHMgY2xpY2sgaGFuZGxlclxuJChmdW5jdGlvbigpIHtcbiAgICB2YXIgYnRuQXJyID0gW107XG4gICAgYnRuQXJyLnB1c2goICQoJyNidG4tc2tpbGxzLW1vcmUnKSApO1xuICAgIGJ0bkFyci5wdXNoKCAkKCcjYnRuLXNraWxscy1sZXNzJykgKTtcbiAgICB2YXIgc2tpbGxzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGJ0bkFyci5mb3JFYWNoKCBmdW5jdGlvbihidG4pIHsgYnRuLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKSB9ICk7XG4gICAgfTtcbiAgICBidG5BcnIuZm9yRWFjaCggZnVuY3Rpb24oYnRuKSB7IGJ0bi5vbignY2xpY2snLCBza2lsbHNDbGlja0hhbmRsZXIpOyB9ICk7XG59KTtcblxuXG5cbi8vIHNtb290aCBzY3JvbGwgdG8gYW5jaG9yXG4kKGZ1bmN0aW9uKCkge1xuICAgICQoJ2FbaHJlZio9XCIjXCJdOm5vdChbaHJlZj1cIiNcIl0pJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgPT0gdGhpcy5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywnJykgJiYgbG9jYXRpb24uaG9zdG5hbWUgPT0gdGhpcy5ob3N0bmFtZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQodGhpcy5oYXNoKTtcblxuICAgICAgICAgICAgLy8gc3dpdGNoIGFjdGl2ZSBjbGFzc1xuICAgICAgICAgICAgJCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRhcmdldC5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5sZW5ndGggPyB0YXJnZXQgOiAkKCdbbmFtZT0nICsgdGhpcy5oYXNoLnNsaWNlKDEpICsnXScpO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDIwXG4gICAgICAgICAgICAgICAgfSwgNjAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5cblxuLy8gbW9kYWxcbiQoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgcGFuZWxUeXBlO1xuICAgIHZhciBtb2RhbENvbnRlbnQ7XG4gICAgdmFyIG1vZGFsQm9keTtcblxuICAgIC8vdHJpZ2dlcmVkIHdoZW4gbW9kYWwgaXMgYWJvdXQgdG8gYmUgc2hvd25cbiAgICAkKCcjcmVzdW1lLW1vZGFsJykub24oJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgbW9kYWxDb250ZW50ID0gJCgnI21vZGFsLWNvbnRlbnQnKTtcbiAgICAgICAgbW9kYWxCb2R5ID0gJCgnI21vZGFsLWJvZHknKTtcblxuICAgICAgICB2YXIgdHlwZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdwYW5lbC10eXBlJyk7XG4gICAgICAgIGlmICh0eXBlICE9PSBwYW5lbFR5cGUpIHtcbiAgICAgICAgICAgIG1vZGFsQ29udGVudC5hZGRDbGFzcygncGFuZWwtJyArIHR5cGUpO1xuICAgICAgICAgICAgbW9kYWxDb250ZW50LnJlbW92ZUNsYXNzKCdwYW5lbC0nICsgcGFuZWxUeXBlKTtcbiAgICAgICAgICAgIHBhbmVsVHlwZSA9IHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvL2dldCBkYXRhLWlkIGF0dHJpYnV0ZSBvZiB0aGUgY2xpY2tlZCBlbGVtZW50XG4gICAgICAgIHZhciBleHAgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgnbW9kYWwtZGF0YScpO1xuXG4gICAgICAgIGlmIChleHAudGl0bGUpIG1vZGFsQ29udGVudC5maW5kKCcjdGl0bGUnKS50ZXh0KGV4cC50aXRsZSkuc2hvdygpO1xuICAgICAgICBlbHNlIG1vZGFsQ29udGVudC5maW5kKCcjdGl0bGUnKS5oaWRlKCk7XG5cbiAgICAgICAgLy9pZiAoZXhwLmRlZ3JlZSkgbW9kYWxDb250ZW50LmZpbmQoJyNkZWdyZWUnKS50ZXh0KGV4cC5kZWdyZWUpLnNob3coKTtcbiAgICAgICAgLy9lbHNlIG1vZGFsQ29udGVudC5maW5kKCcjZGVncmVlJykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuY29tcGFueSkgbW9kYWxCb2R5LmZpbmQoJyNjb21wYW55JykudGV4dChleHAuY29tcGFueS5uYW1lKS5zaG93KCk7XG4gICAgICAgIGVsc2UgbW9kYWxCb2R5LmZpbmQoJyNjb21wYW55JykuaGlkZSgpO1xuXG4gICAgICAgIC8vaWYgKGV4cC5zY2hvb2wpIG1vZGFsQm9keS5maW5kKCcjc2Nob29sJykudGV4dChleHAuc2Nob29sKS5zaG93KCk7XG4gICAgICAgIC8vZWxzZSBtb2RhbEJvZHkuZmluZCgnI3NjaG9vbCcpLmhpZGUoKTtcblxuICAgICAgICBpZiAoZXhwLmRlc2NyaXB0aW9uKSBtb2RhbEJvZHkuZmluZCgnI2Rlc2NyaXB0aW9uJykudGV4dChleHAuZGVzY3JpcHRpb24pLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI2Rlc2NyaXB0aW9uJykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuc3RhcnQpIG1vZGFsQm9keS5maW5kKCcjc3RhcnQnKS50ZXh0KG1vbWVudChleHAuc3RhcnQpLmZvcm1hdCgnTU1NTSBZWVlZJykpLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI3N0YXJ0JykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuZW5kKSBtb2RhbEJvZHkuZmluZCgnI2VuZCcpLnRleHQobW9tZW50KGV4cC5lbmQpLmZvcm1hdCgnTU1NTSBZWVlZJykpLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI2VuZCcpLmhpZGUoKTtcbiAgICB9KTtcbn0pO1xuXG5cblxuLy8ga2lsbCBtb2RhbCBvbiBjbG9zZVxuJCgnYm9keScpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCAnLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucmVtb3ZlRGF0YSgnYnMubW9kYWwnKTtcbn0pO1xuXG5cblxuLy8gJ3JlYWQgbW9yZScgc2xpZGUgZG93blxuJChmdW5jdGlvbigpIHtcblxuICAgIHZhciAkZWwsICRwLCAkcHMsICR1cCwgdG90YWxIZWlnaHQ7XG5cbiAgICAkKFwiI3Byb2ZpbGUgLnJlYWQtbW9yZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdG90YWxIZWlnaHQgPSAwO1xuXG4gICAgICAgICRlbCA9ICQodGhpcyk7XG4gICAgICAgICRwICA9ICRlbC5wYXJlbnQoKTtcbiAgICAgICAgJHBzID0gJHAuZmluZChcInBcIik7XG5cbiAgICAgICAgLy8gbWVhc3VyZSBob3cgdGFsbCBpbnNpZGUgc2hvdWxkIGJlIGJ5IGFkZGluZyB0b2dldGhlciBoZWlnaHRzIG9mIGFsbCBpbnNpZGUgcGFyYWdyYXBocyAoZXhjZXB0IHJlYWQtbW9yZSBwYXJhZ3JhcGgpXG4gICAgICAgICRwcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdG90YWxIZWlnaHQgKz0gJCh0aGlzKS5vdXRlckhlaWdodCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkcC5jc3Moe1xuICAgICAgICAgICAgICAgIC8vIFNldCBoZWlnaHQgdG8gcHJldmVudCBpbnN0YW50IGp1bXBkb3duIHdoZW4gbWF4IGhlaWdodCBpcyByZW1vdmVkXG4gICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogJHAuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgXCJtYXgtaGVpZ2h0XCI6IDk5OTlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogdG90YWxIZWlnaHRcbiAgICAgICAgICAgIH0sNDAwKTtcblxuICAgICAgICAvLyBmYWRlIG91dCByZWFkLW1vcmVcbiAgICAgICAgJGVsLmNzcyh7XCJkaXNwbGF5XCI6IFwibm9uZVwifSk7XG5cbiAgICAgICAgLy8gcHJldmVudCBqdW1wLWRvd25cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfSk7XG5cbn0pO1xuXG5cbi8vIGFkbWluIFBVVCBkYXRhXG4kKGZ1bmN0aW9uKCkge1xuICAgICQoJy5idG4tYWRtaW4tc2F2ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIHBhcmVudCBmb3JtXG4gICAgICAgIHZhciBmb3JtID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtJyk7XG5cbiAgICAgICAgLy8gZ2V0IHNlY3Rpb24vaWRcbiAgICAgICAgdmFyIHNlY3Rpb24gPSBmb3JtLmRhdGEoJ3NlY3Rpb24nKTtcbiAgICAgICAgdmFyIGlkID0gZm9ybS5kYXRhKCdpZCcpO1xuXG4gICAgICAgIC8vIGdldCBkYXRhIGZyb20gcmVsZXZhbnQgZmllbGRzXG4gICAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShzZWN0aW9uLCBpZCk7XG5cbiAgICAgICAgLy8gcG9zdCBkYXRhIHRvIGVuZHBvaW50XG4gICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXM/JykpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIvYWRtaW5cIixcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGpxWEhSLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZ2V0RGF0YShzZWN0aW9uLCBpZCkge1xuICAgICAgICB2YXIgZGF0YSA9IHtfaWQ6IGlkLCBzZWN0aW9uOiBzZWN0aW9ufTtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gXCJmb3JtW2RhdGEtaWQ9J1wiICsgaWQgKyBcIiddW2RhdGEtc2VjdGlvbj0nXCIgKyBzZWN0aW9uICsgXCInXSBbZGF0YS10eXBlPSdyZXN1bWUtZm9ybS1maWVsZCddXCI7XG4gICAgICAgIHZhciBpdGVtO1xuXG4gICAgICAgICQoIHF1ZXJ5ICkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGl0ZW0gPSAkKHRoaXMpWzBdO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBpdGVtLmRhdGFzZXQucHJvcDtcbiAgICAgICAgICAgIHZhciB2YWwgPSBpdGVtLmlubmVySFRNTCB8fCBpdGVtLmNoZWNrZWQgfHwgaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIHNldChkYXRhLCBwYXRoLCB2YWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KG9iaiwgcGF0aCwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNjaGVtYSA9IG9iajsgIC8vIGEgbW92aW5nIHJlZmVyZW5jZSB0byBpbnRlcm5hbCBvYmplY3RzIHdpdGhpbiBvYmpcbiAgICAgICAgdmFyIGFyciA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgICAgICAgLy8gb2ZqOiB2aXJrZXIgaWtrZSAtIGh2b3Jmb3IgU08/XG4gICAgICAgIC8vYXJyLmZvckVhY2goZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAvLyAgICBpZiAoICFzY2hlbWFbZWxlbV0gKSB7XG4gICAgICAgIC8vICAgICAgICBzY2hlbWFbZWxlbV0gPSB7fTtcbiAgICAgICAgLy8gICAgfVxuICAgICAgICAvLyAgICBzY2hlbWEgPSBzY2hlbWFbZWxlbV07XG4gICAgICAgIC8vfSk7XG4gICAgICAgIC8vc2NoZW1hW2EgIHJyW2xlbiAtIDFdXSA9IHZhbHVlO1xuICAgICAgICAvL3JldHVybiBzY2hlbWE7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxlbi0xOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gYXJyW2ldO1xuICAgICAgICAgICAgaWYoICFzY2hlbWFbZWxlbV0gKSBzY2hlbWFbZWxlbV0gPSB7fTtcbiAgICAgICAgICAgIHNjaGVtYSA9IHNjaGVtYVtlbGVtXTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlbWFbYXJyW2xlbi0xXV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59KTtcblxuXG4vLyBhZG1pbiBERUxFVEUgZGF0YVxuJChmdW5jdGlvbigpIHtcblxuICAgICQoJy5idG4tYWRtaW4tZGVsZXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpO1xuICAgICAgICAvLyBwYXJlbnQgZm9ybVxuICAgICAgICB2YXIgZm9ybSA9IGJ0bi5jbG9zZXN0KCdmb3JtJyk7XG5cbiAgICAgICAgLy8gZ2V0IHNlY3Rpb24vaWRcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS5zZWN0aW9uID0gZm9ybS5kYXRhKCdzZWN0aW9uJyk7XG4gICAgICAgIGRhdGEuX2lkID0gZm9ybS5kYXRhKCdpZCcpO1xuXG4gICAgICAgIC8vIGh0dHAgREVMRVRFXG4gICAgICAgIGlmIChjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXM/JykpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgICAgIHVybDogXCIvYWRtaW5cIixcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XG4gICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlXG4gICAgICAgICAgICAgICAgYnRuLmNsb3Nlc3QoJy5hZG1pbi1lbGVtZW50JykuaGlkZSgnbm9ybWFsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihqcVhIUi5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSk7XG5cblxuLy8gYWRtaW4gdGFic1xuJChmdW5jdGlvbigpIHtcblxuICAgICQoJyNhZG1pbi10YWJzIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQodGhpcykudGFiKCdzaG93Jyk7XG4gICAgfSlcblxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
