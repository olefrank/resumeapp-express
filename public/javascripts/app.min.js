"use strict";$(function(){var t=($(".skills-header-section"),$(".skills-header-arrow")),e=function(e){t.toggleClass("skills-more"),t.toggleClass("skills-less")};$(document).on("click",".skills-header-section",e)}),$(function(){$('a[href*="#"]:not([href="#"])').on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if($(".active").removeClass("active"),t.parent().addClass("active"),t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top-20},600),!1}})}),$(function(){var t,e,n;$("#resume-modal").on("show.bs.modal",function(i){e=$("#modal-content"),n=$("#modal-body");var a=$(i.relatedTarget).data("panel-type");a!==t&&(e.addClass("panel-"+a),e.removeClass("panel-"+t),t=a);var o=$(i.relatedTarget).data("modal-data");o.title?e.find("#title").text(o.title).show():e.find("#title").hide(),o.company?n.find("#company").text(o.company.name).show():n.find("#company").hide(),o.description?n.find("#description").text(o.description).show():n.find("#description").hide(),o.start?n.find("#start").text(moment(o.start).format("MMMM YYYY")).show():n.find("#start").hide(),o.end?n.find("#end").text(moment(o.end).format("MMMM YYYY")).show():n.find("#end").hide()})}),$("body").on("hidden.bs.modal",".modal",function(){$(this).removeData("bs.modal")}),$(function(){var t,e,n,i;$("#profile .read-more").on("click",function(){return i=0,t=$(this),e=t.parent(),n=e.find("p"),n.each(function(){i+=$(this).outerHeight()}),e.css({height:e.height(),"max-height":9999}).animate({height:i},400),t.css({display:"none"}),!1})}),$(function(){function t(t,n){var i,a={},o=t.attr("id"),s=t.data("section");return o&&(a._id=o),s&&(a.section=s),$(t).find(".resume-form-field").each(function(){i=$(this)[0];var t=i.dataset.prop,o=i.innerHTML||i.checked||i.value;n?e(a,t,o):a[t]=o}),JSON.stringify(a)}function e(t,e,n){for(var i=t,a=e.split("."),o=a.length,s=0;s<o-1;s++){var r=a[s];i[r]||(i[r]={}),i=i[r]}return i[a[o-1]]=n,i}var n=function(e){e.preventDefault();var n,i=$(this).closest("form"),a=i.attr("id");a?confirm("Vil du gemme Ã¦ndringerne?")&&(n=t(i,!0),$.ajax({method:"PUT",url:"/admin",data:n,contentType:"application/json"}).done(function(t,e,n){toastr.success(t)}).fail(function(t,e,n){toastr.error(t.responseText)})):confirm("Vil du gemme elementet?")&&(n=t(i,!1),$.ajax({method:"POST",url:"/admin",data:n,contentType:"application/json"}).done(function(t,e,n){toastr.success(t)}).fail(function(t,e,n){toastr.error(t.responseText)}))},i=function(t){t.preventDefault();var e=$(this),n=e.closest("form"),i={};i.section=n.data("section"),i._id=n.attr("id"),i._id?confirm("Vil du slette elementet?")&&$.ajax({method:"DELETE",url:"/admin",data:JSON.stringify(i),contentType:"application/json"}).done(function(t,n,i){a(e,$(this)),toastr.success(t)}).fail(function(t,e,n){toastr.error(t.responseText)}):a(e,$(this))},a=function(t,e){t.closest(".admin-element").hide("normal",function(){e.remove()})},o=function(t){t.preventDefault();var e=$(this).closest(".add-new-element"),n=e.next().find("form"),i=n.data("section");$.get("/templates/"+i).then(function(t){$(t).hide().prependTo(".element-list-"+i).fadeIn("normal")})};$(document).on("click",".btn-admin-save",n),$(document).on("click",".btn-admin-delete",i),$(document).on("click",".btn-admin-addnew",o)}),$(function(){$("#admin-tabs a").click(function(t){t.preventDefault(),$(this).tab("show")})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImFycm93Iiwic2tpbGxzQ2xpY2tIYW5kbGVyIiwiZSIsInRvZ2dsZUNsYXNzIiwiZG9jdW1lbnQiLCJvbiIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwidGhpcyIsImhvc3RuYW1lIiwidGFyZ2V0IiwiaGFzaCIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwiYWRkQ2xhc3MiLCJsZW5ndGgiLCJzbGljZSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJwYW5lbFR5cGUiLCJtb2RhbENvbnRlbnQiLCJtb2RhbEJvZHkiLCJ0eXBlIiwicmVsYXRlZFRhcmdldCIsImRhdGEiLCJleHAiLCJ0aXRsZSIsImZpbmQiLCJ0ZXh0Iiwic2hvdyIsImhpZGUiLCJjb21wYW55IiwibmFtZSIsImRlc2NyaXB0aW9uIiwic3RhcnQiLCJtb21lbnQiLCJmb3JtYXQiLCJlbmQiLCJyZW1vdmVEYXRhIiwiJGVsIiwiJHAiLCIkcHMiLCJ0b3RhbEhlaWdodCIsImVhY2giLCJvdXRlckhlaWdodCIsImNzcyIsImhlaWdodCIsIm1heC1oZWlnaHQiLCJkaXNwbGF5IiwiZ2V0RGF0YSIsImZvcm0iLCJleHBhbmRQcm9wcyIsIml0ZW0iLCJpZCIsImF0dHIiLCJzZWN0aW9uIiwiX2lkIiwicGF0aCIsImRhdGFzZXQiLCJwcm9wIiwidmFsIiwiaW5uZXJIVE1MIiwiY2hlY2tlZCIsInZhbHVlIiwic2V0IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9iaiIsInNjaGVtYSIsImFyciIsInNwbGl0IiwibGVuIiwiaSIsImVsZW0iLCJidG5TYXZlSGFuZGxlciIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VzdCIsImNvbmZpcm0iLCJhamF4IiwibWV0aG9kIiwidXJsIiwiY29udGVudFR5cGUiLCJkb25lIiwidGV4dFN0YXR1cyIsImpxWEhSIiwidG9hc3RyIiwic3VjY2VzcyIsImZhaWwiLCJlcnJvclRocm93biIsImVycm9yIiwicmVzcG9uc2VUZXh0IiwiYnRuRGVsZXRlSGFuZGxlciIsImJ0biIsInJlbW92ZUVsZW1lbnQiLCJjb250ZXh0IiwicmVtb3ZlIiwiYnRuQWRkTmV3SGFuZGxlciIsIm5leHQiLCJnZXQiLCJ0aGVuIiwiaHRtbCIsInByZXBlbmRUbyIsImZhZGVJbiIsImNsaWNrIiwidGFiIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUdBQSxHQUFBLFdBQ0EsR0FDQUMsSUFEQUQsRUFBQSwwQkFDQUEsRUFBQSx5QkFFQUUsRUFBQSxTQUFBQyxHQUNBRixFQUFBRyxZQUFBLGVBQ0FILEVBQUFHLFlBQUEsZUFHQUosR0FBQUssVUFBQUMsR0FBQSxRQUFBLHlCQUFBSixLQUtBRixFQUFBLFdBQ0FBLEVBQUEsZ0NBQUFNLEdBQUEsUUFBQSxXQUNBLEdBQUFDLFNBQUFDLFNBQUFDLFFBQUEsTUFBQSxLQUFBQyxLQUFBRixTQUFBQyxRQUFBLE1BQUEsS0FBQUYsU0FBQUksVUFBQUQsS0FBQUMsU0FBQSxDQUNBLEdBQUFDLEdBQUFaLEVBQUFVLEtBQUFHLEtBT0EsSUFKQWIsRUFBQSxXQUFBYyxZQUFBLFVBQ0FGLEVBQUFHLFNBQUFDLFNBQUEsVUFFQUosRUFBQUEsRUFBQUssT0FBQUwsRUFBQVosRUFBQSxTQUFBVSxLQUFBRyxLQUFBSyxNQUFBLEdBQUEsS0FDQU4sRUFBQUssT0FJQSxNQUhBakIsR0FBQSxjQUFBbUIsU0FDQUMsVUFBQVIsRUFBQVMsU0FBQUMsSUFBQSxJQUNBLE1BQ0EsT0FRQXRCLEVBQUEsV0FFQSxHQUFBdUIsR0FDQUMsRUFDQUMsQ0FHQXpCLEdBQUEsaUJBQUFNLEdBQUEsZ0JBQUEsU0FBQUgsR0FFQXFCLEVBQUF4QixFQUFBLGtCQUNBeUIsRUFBQXpCLEVBQUEsY0FFQSxJQUFBMEIsR0FBQTFCLEVBQUFHLEVBQUF3QixlQUFBQyxLQUFBLGFBQ0FGLEtBQUFILElBQ0FDLEVBQUFSLFNBQUEsU0FBQVUsR0FDQUYsRUFBQVYsWUFBQSxTQUFBUyxHQUNBQSxFQUFBRyxFQUlBLElBQUFHLEdBQUE3QixF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QUFBLG9CQUFBeUYsR0FHQS9GLEVBQUFLLFVBQUFDLEdBQUEsUUFBQSxvQkFBQThGLEtBS0FwRyxFQUFBLFdBQ0FBLEVBQUEsaUJBQUEyRyxNQUFBLFNBQUF4RyxHQUNBQSxFQUFBNEUsaUJBQ0EvRSxFQUFBVSxNQUFBa0csSUFBQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHNraWxscyBjbGljayBoYW5kbGVyXG4kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2tpbGxzID0gJCgnLnNraWxscy1oZWFkZXItc2VjdGlvbicpO1xuICAgIHZhciBhcnJvdyA9ICQoJy5za2lsbHMtaGVhZGVyLWFycm93Jyk7XG5cbiAgICB2YXIgc2tpbGxzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgYXJyb3cudG9nZ2xlQ2xhc3MoJ3NraWxscy1tb3JlJyk7XG4gICAgICAgIGFycm93LnRvZ2dsZUNsYXNzKCdza2lsbHMtbGVzcycpO1xuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNraWxscy1oZWFkZXItc2VjdGlvbicsIHNraWxsc0NsaWNrSGFuZGxlcik7XG59KTtcblxuXG4vLyBzbW9vdGggc2Nyb2xsIHRvIGFuY2hvclxuJChmdW5jdGlvbiAoKSB7XG4gICAgJCgnYVtocmVmKj1cIiNcIl06bm90KFtocmVmPVwiI1wiXSknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpID09IHRoaXMucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKSAmJiBsb2NhdGlvbi5ob3N0bmFtZSA9PSB0aGlzLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJCh0aGlzLmhhc2gpO1xuXG4gICAgICAgICAgICAvLyBzd2l0Y2ggYWN0aXZlIGNsYXNzXG4gICAgICAgICAgICAkKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdGFyZ2V0LnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxlbmd0aCA/IHRhcmdldCA6ICQoJ1tuYW1lPScgKyB0aGlzLmhhc2guc2xpY2UoMSkgKyAnXScpO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDIwXG4gICAgICAgICAgICAgICAgfSwgNjAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG5cbi8vIG1vZGFsXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBwYW5lbFR5cGU7XG4gICAgdmFyIG1vZGFsQ29udGVudDtcbiAgICB2YXIgbW9kYWxCb2R5O1xuXG4gICAgLy90cmlnZ2VyZWQgd2hlbiBtb2RhbCBpcyBhYm91dCB0byBiZSBzaG93blxuICAgICQoJyNyZXN1bWUtbW9kYWwnKS5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgbW9kYWxDb250ZW50ID0gJCgnI21vZGFsLWNvbnRlbnQnKTtcbiAgICAgICAgbW9kYWxCb2R5ID0gJCgnI21vZGFsLWJvZHknKTtcblxuICAgICAgICB2YXIgdHlwZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdwYW5lbC10eXBlJyk7XG4gICAgICAgIGlmICh0eXBlICE9PSBwYW5lbFR5cGUpIHtcbiAgICAgICAgICAgIG1vZGFsQ29udGVudC5hZGRDbGFzcygncGFuZWwtJyArIHR5cGUpO1xuICAgICAgICAgICAgbW9kYWxDb250ZW50LnJlbW92ZUNsYXNzKCdwYW5lbC0nICsgcGFuZWxUeXBlKTtcbiAgICAgICAgICAgIHBhbmVsVHlwZSA9IHR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICAvL2dldCBkYXRhLWlkIGF0dHJpYnV0ZSBvZiB0aGUgY2xpY2tlZCBlbGVtZW50XG4gICAgICAgIHZhciBleHAgPSAkKGUucmVsYXRlZFRhcmdldCkuZGF0YSgnbW9kYWwtZGF0YScpO1xuXG4gICAgICAgIGlmIChleHAudGl0bGUpIG1vZGFsQ29udGVudC5maW5kKCcjdGl0bGUnKS50ZXh0KGV4cC50aXRsZSkuc2hvdygpO1xuICAgICAgICBlbHNlIG1vZGFsQ29udGVudC5maW5kKCcjdGl0bGUnKS5oaWRlKCk7XG5cbiAgICAgICAgLy9pZiAoZXhwLmRlZ3JlZSkgbW9kYWxDb250ZW50LmZpbmQoJyNkZWdyZWUnKS50ZXh0KGV4cC5kZWdyZWUpLnNob3coKTtcbiAgICAgICAgLy9lbHNlIG1vZGFsQ29udGVudC5maW5kKCcjZGVncmVlJykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuY29tcGFueSkgbW9kYWxCb2R5LmZpbmQoJyNjb21wYW55JykudGV4dChleHAuY29tcGFueS5uYW1lKS5zaG93KCk7XG4gICAgICAgIGVsc2UgbW9kYWxCb2R5LmZpbmQoJyNjb21wYW55JykuaGlkZSgpO1xuXG4gICAgICAgIC8vaWYgKGV4cC5zY2hvb2wpIG1vZGFsQm9keS5maW5kKCcjc2Nob29sJykudGV4dChleHAuc2Nob29sKS5zaG93KCk7XG4gICAgICAgIC8vZWxzZSBtb2RhbEJvZHkuZmluZCgnI3NjaG9vbCcpLmhpZGUoKTtcblxuICAgICAgICBpZiAoZXhwLmRlc2NyaXB0aW9uKSBtb2RhbEJvZHkuZmluZCgnI2Rlc2NyaXB0aW9uJykudGV4dChleHAuZGVzY3JpcHRpb24pLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI2Rlc2NyaXB0aW9uJykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuc3RhcnQpIG1vZGFsQm9keS5maW5kKCcjc3RhcnQnKS50ZXh0KG1vbWVudChleHAuc3RhcnQpLmZvcm1hdCgnTU1NTSBZWVlZJykpLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI3N0YXJ0JykuaGlkZSgpO1xuXG4gICAgICAgIGlmIChleHAuZW5kKSBtb2RhbEJvZHkuZmluZCgnI2VuZCcpLnRleHQobW9tZW50KGV4cC5lbmQpLmZvcm1hdCgnTU1NTSBZWVlZJykpLnNob3coKTtcbiAgICAgICAgZWxzZSBtb2RhbEJvZHkuZmluZCgnI2VuZCcpLmhpZGUoKTtcbiAgICB9KTtcbn0pO1xuXG5cbi8vIGtpbGwgbW9kYWwgb24gY2xvc2VcbiQoJ2JvZHknKS5vbignaGlkZGVuLmJzLm1vZGFsJywgJy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2JzLm1vZGFsJyk7XG59KTtcblxuXG4vLyAncmVhZCBtb3JlJyBzbGlkZSBkb3duXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkZWwsICRwLCAkcHMsICR1cCwgdG90YWxIZWlnaHQ7XG5cbiAgICAkKFwiI3Byb2ZpbGUgLnJlYWQtbW9yZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRvdGFsSGVpZ2h0ID0gMDtcblxuICAgICAgICAkZWwgPSAkKHRoaXMpO1xuICAgICAgICAkcCA9ICRlbC5wYXJlbnQoKTtcbiAgICAgICAgJHBzID0gJHAuZmluZChcInBcIik7XG5cbiAgICAgICAgLy8gbWVhc3VyZSBob3cgdGFsbCBpbnNpZGUgc2hvdWxkIGJlIGJ5IGFkZGluZyB0b2dldGhlciBoZWlnaHRzIG9mIGFsbCBpbnNpZGUgcGFyYWdyYXBocyAoZXhjZXB0IHJlYWQtbW9yZSBwYXJhZ3JhcGgpXG4gICAgICAgICRwcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRvdGFsSGVpZ2h0ICs9ICQodGhpcykub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHAuY3NzKHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgaGVpZ2h0IHRvIHByZXZlbnQgaW5zdGFudCBqdW1wZG93biB3aGVuIG1heCBoZWlnaHQgaXMgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6ICRwLmhlaWdodCgpLFxuICAgICAgICAgICAgICAgIFwibWF4LWhlaWdodFwiOiA5OTk5XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IHRvdGFsSGVpZ2h0XG4gICAgICAgICAgICB9LCA0MDApO1xuXG4gICAgICAgIC8vIGZhZGUgb3V0IHJlYWQtbW9yZVxuICAgICAgICAkZWwuY3NzKHtcImRpc3BsYXlcIjogXCJub25lXCJ9KTtcblxuICAgICAgICAvLyBwcmV2ZW50IGp1bXAtZG93blxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59KTtcblxuXG4vLyBhZG1pbiBidG5zXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBidG5TYXZlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICAvLyBwYXJlbnQgZm9ybVxuICAgICAgICB2YXIgZm9ybSA9ICQodGhpcykuY2xvc2VzdCgnZm9ybScpO1xuXG4gICAgICAgIC8vIGVsZW0gaWRcbiAgICAgICAgdmFyIGlkID0gZm9ybS5hdHRyKCdpZCcpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgZWxlbVxuICAgICAgICBpZiAoIWlkKcKge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ1ZpbCBkdSBnZW1tZSBlbGVtZW50ZXQ/JykpIHtcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0IGRhdGFcbiAgICAgICAgICAgICAgICBkYXRhID0gZ2V0RGF0YShmb3JtLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hZG1pblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihqcVhIUi5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBleGlzdGluZ1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdWaWwgZHUgZ2VtbWUgw6ZuZHJpbmdlcm5lPycpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCBkYXRhXG4gICAgICAgICAgICAgICAgZGF0YSA9IGdldERhdGEoZm9ybSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL2FkbWluXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGpxWEhSLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0RGF0YShmb3JtLCBleHBhbmRQcm9wcykge1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICB2YXIgaWQgPSBmb3JtLmF0dHIoJ2lkJyk7XG4gICAgICAgIHZhciBzZWN0aW9uID0gZm9ybS5kYXRhKCdzZWN0aW9uJyk7XG5cbiAgICAgICAgaWYgKGlkKSBkYXRhLl9pZCA9IGlkO1xuICAgICAgICBpZiAoc2VjdGlvbikgZGF0YS5zZWN0aW9uID0gc2VjdGlvbjtcblxuICAgICAgICAvLyBjb2xsZWN0IGRhdGEgZnJvbSBlYWNoIGZpZWxkXG4gICAgICAgICQoZm9ybSkuZmluZCgnLnJlc3VtZS1mb3JtLWZpZWxkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVtID0gJCh0aGlzKVswXTtcbiAgICAgICAgICAgIHZhciBwYXRoID0gaXRlbS5kYXRhc2V0LnByb3A7XG4gICAgICAgICAgICB2YXIgdmFsID0gaXRlbS5pbm5lckhUTUwgfHwgaXRlbS5jaGVja2VkIHx8IGl0ZW0udmFsdWU7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXN0ZWQgc3RydWN0dXJlXG4gICAgICAgICAgICBpZiAoZXhwYW5kUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBzZXQoZGF0YSwgcGF0aCwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBmbGF0IHN0cnVjdHVyZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YVtwYXRoXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXQob2JqLCBwYXRoLCB2YWx1ZSkge1xuICAgICAgICB2YXIgc2NoZW1hID0gb2JqOyAgLy8gYSBtb3ZpbmcgcmVmZXJlbmNlIHRvIGludGVybmFsIG9iamVjdHMgd2l0aGluIG9ialxuICAgICAgICB2YXIgYXJyID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gYXJyW2ldO1xuICAgICAgICAgICAgaWYgKCFzY2hlbWFbZWxlbV0pIHNjaGVtYVtlbGVtXSA9IHt9O1xuICAgICAgICAgICAgc2NoZW1hID0gc2NoZW1hW2VsZW1dO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVtYVthcnJbbGVuIC0gMV1dID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuXG4gICAgdmFyIGJ0bkRlbGV0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIGJ0biA9ICQodGhpcyk7XG4gICAgICAgIC8vIHBhcmVudCBmb3JtXG4gICAgICAgIHZhciBmb3JtID0gYnRuLmNsb3Nlc3QoJ2Zvcm0nKTtcblxuICAgICAgICAvLyBnZXQgc2VjdGlvbi9pZFxuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICBkYXRhLnNlY3Rpb24gPSBmb3JtLmRhdGEoJ3NlY3Rpb24nKTtcbiAgICAgICAgZGF0YS5faWQgPSBmb3JtLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgLy8gbmV3IGVsZW1lbnQgLSBub3QgaW4gZGF0YWJhc2UgeWV0XG4gICAgICAgIGlmICghZGF0YS5faWQpIHtcbiAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoYnRuLCAkKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBodHRwIERFTEVURVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKCdWaWwgZHUgc2xldHRlIGVsZW1lbnRldD8nKSkge1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hZG1pblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoYnRuLCAkKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihqcVhIUi5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHJlbW92ZSBkb20gZWxlbWVudFxuICAgIHZhciByZW1vdmVFbGVtZW50ID0gZnVuY3Rpb24oY29udGV4dCwgZWxlbSkge1xuICAgICAgICBjb250ZXh0LmNsb3Nlc3QoJy5hZG1pbi1lbGVtZW50JykuaGlkZSgnbm9ybWFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBidG5BZGROZXdIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBidG4gPSAkKHRoaXMpLmNsb3Nlc3QoJy5hZGQtbmV3LWVsZW1lbnQnKTtcblxuICAgICAgICAvLyBwYXJlbnQgZm9ybVxuICAgICAgICB2YXIgZm9ybSA9IGJ0bi5uZXh0KCkuZmluZCgnZm9ybScpO1xuXG4gICAgICAgIC8vIGdldCBzZWN0aW9uXG4gICAgICAgIHZhciBzZWN0aW9uID0gZm9ybS5kYXRhKCdzZWN0aW9uJyk7XG5cbiAgICAgICAgLy8gZ2V0IHRlbXBsYXRlXG4gICAgICAgICQuZ2V0KCcvdGVtcGxhdGVzLycgKyBzZWN0aW9uKS50aGVuKGZ1bmN0aW9uIChodG1sKSB7XG4gICAgICAgICAgICAvLyBpbnNlcnRcbiAgICAgICAgICAgICQoaHRtbCkuaGlkZSgpLnByZXBlbmRUbyhcIi5lbGVtZW50LWxpc3QtXCIgKyBzZWN0aW9uKS5mYWRlSW4oXCJub3JtYWxcIik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBhZG1pbiBTQVZFIGRhdGFcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0bi1hZG1pbi1zYXZlJywgYnRuU2F2ZUhhbmRsZXIpO1xuXG4gICAgLy8gYWRtaW4gREVMRVRFIGRhdGFcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJ0bi1hZG1pbi1kZWxldGUnLCBidG5EZWxldGVIYW5kbGVyKTtcblxuICAgIC8vIHNob3cgJ2FkZCBuZXcnIHRlbXBsYXRlXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5idG4tYWRtaW4tYWRkbmV3JywgYnRuQWRkTmV3SGFuZGxlcik7XG59KTtcblxuXG4vLyBhZG1pbiB0YWJzXG4kKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjYWRtaW4tdGFicyBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkKHRoaXMpLnRhYignc2hvdycpO1xuICAgIH0pXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
